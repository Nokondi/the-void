(()=>{var e={2293:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>B});var o=n(2982),r=n(885),i=n(9526),a=n(3292),l=n(4333),s=n(1133),d=n(6085),u=n(8083),c=n(6635),f=n(5861),p=n(9233),g=n(9883),y=n(1679),h=n(464),b=n(5628),x=(0,n(9146).io)("https://into-the-void.app:8000"),m=n(4637),v=n(7557);function j(e){var t=e.onRecordPressed;return(0,v.jsx)(m.default,{style:S.recordButton,onPress:t,children:(0,v.jsx)(p.default,{style:S.buttonText})})}var S=l.default.create({recordButton:{width:80,height:80,borderRadius:40,backgroundColor:"#5B639A",borderWidth:10,borderStyle:"solid",borderColor:"#422B4F",margin:20,alignContent:"center"},buttonText:{color:"#fff",fontSize:24,padding:10,textAlign:"center"}});function C(e){var t=e.scream_response,n=g.usePermissions(),o=(0,r.default)(n,2),a=(o[0],o[1]),l=(0,i.useState)(""),d=(0,r.default)(l,2),u=(d[0],d[1]),c=(0,i.useState)(!1),b=(0,r.default)(c,2),m=b[0],S=b[1],C=(0,i.useState)(!1),O=(0,r.default)(C,2),w=O[0],P=O[1],T=(0,i.useState)(!1),k=(0,r.default)(T,2),B=(k[0],k[1],(0,i.useState)(!1)),R=(0,r.default)(B,2),_=(R[0],R[1]);function z(){return(z=(0,f.default)((function*(){try{console.log("Requesting permissions.."),yield g.requestPermissionsAsync(),yield y.setAudioModeAsync({allowsRecordingIOS:!0,playsInSilentModeIOS:!0}),console.log("Starting recording..");var e=(yield g.Recording.createAsync(h.RecordingOptionsPresets.HIGH_QUALITY)).recording;P(e),console.log("Recording started")}catch(t){console.error("Failed to start recording",t)}}))).apply(this,arguments)}function F(){return F=(0,f.default)((function*(){console.log("Stopping recording.."),yield w.stopAndUnloadAsync(),yield y.setAudioModeAsync({allowsRecordingIOS:!1});var e=w.getURI();u(e),console.log("Recording stopped and stored at",e),function(e){I.apply(this,arguments)}(e),P(void 0),S(!0)})),F.apply(this,arguments)}function I(){return(I=(0,f.default)((function*(e){console.log("Loading Sound");var t=yield fetch(e).then((function(e){return e.blob()}));x.emit("screamAudio",t),_(!0)}))).apply(this,arguments)}return a(),(0,v.jsx)(s.default,{style:A.container,children:m?(0,v.jsx)(s.default,{style:A.container,children:(0,v.jsx)(p.default,{style:A.responseText,children:t})}):(0,v.jsxs)(s.default,{style:A.buttonContainer,children:[w?(0,v.jsx)(j,{onRecordPressed:function(){return F.apply(this,arguments)}}):(0,v.jsx)(j,{onRecordPressed:function(){return z.apply(this,arguments)}}),w?(0,v.jsx)(p.default,{style:A.responseText,children:"Recording..."}):(0,v.jsxs)(p.default,{style:A.responseText,children:["Welcome to the Void. ",(0,v.jsx)("br",{}),"Press the button to begin recording.",(0,v.jsx)("br",{}),"Press again to stop recording. ",(0,v.jsx)("br",{}),"Flip the switch to gaze into the void."]})]})})}var A=l.default.create({container:{flex:1,justifyContent:"center",alignContent:"center"},buttonContainer:{flex:1,justifyContent:"flex-start",alignItems:"center",padding:"1%"},textBox:{flex:1,color:"#000",padding:"2%",borderColor:"#5B639A",borderWidth:3,borderStyle:"solid",borderRadius:10,margin:"2%"},responseText:{color:"#fff",fontSize:24,padding:"1%",fontFamily:"Quicksand",textAlign:"center"}}),O=n(2313),w=n(7931);function P(e){e.buttonText;var t=e.onButtonPressed;return(0,v.jsx)(w.default,{name:"playcircleo",size:24,color:"#5B639A",onPress:t})}l.default.create({buttonContainer:{flex:1,alignItems:"center"},buttonText:{color:"#fff",fontSize:24,padding:10,fontFamily:"Special-Elite",textAlign:"center"}});function T(e){var t=e.gaze_response,n=(0,i.useState)(0),o=(0,r.default)(n,2),a=o[0],l=o[1],d=(0,i.useState)(10),u=(0,r.default)(d,2),c=u[0],g=(u[1],(0,i.useState)(!1)),y=(0,r.default)(g,2),h=(y[0],y[1]);(0,i.useEffect)((function(){m()}),[]);var m=function(){x.emit("gazeAudio",a,c),l(a+c)};function j(){return(j=(0,f.default)((function*(e){var t=new Blob([e]),n=URL.createObjectURL(t);console.log(n),h(!0),console.log("Loading Sound");var o=(yield b.Sound.createAsync(n)).sound;console.log("Playing Sound"),yield o.playAsync()}))).apply(this,arguments)}return(0,v.jsxs)(s.default,{style:k.container,children:[(0,v.jsx)(w.default,{name:"eyeo",size:24,color:"#5B639A"}),(0,v.jsx)(s.default,{style:k.listContainer,children:(0,v.jsx)(O.FlashList,{data:t,renderItem:function(e){var t=e.item;return(0,v.jsxs)(s.default,{style:k.listItem,children:[(0,v.jsx)(p.default,{style:k.dateText,children:t.date}),(0,v.jsx)(P,{buttonText:"Play Scream",onButtonPressed:function(){return function(e){return j.apply(this,arguments)}(t.file)}})]})},estimatedItemSize:200})})]})}var k=l.default.create({container:{flex:1,justifyContent:"center"},buttonContainer:{flex:1,justifyContent:"flex-start",alignItems:"center",padding:"1%"},textBox:{flex:1,color:"#000",padding:"2%",margin:"2%",borderColor:"#5B639A",borderWidth:3,borderStyle:"solid",borderRadius:10},listContainer:{flex:1,flexDirection:"column-reverse",margin:20,justifyContent:"center",inverted:!0},dateText:{color:"#fff",fontSize:16,paddingTop:"2%",fontFamily:"Quicksand"},responseText:{color:"#fff",fontSize:24,paddingLeft:"5%",paddingBottom:"1%"},listItem:{flex:1,flexDirection:"row",paddingBottom:"1%",borderBottomColor:"#422B4F",borderBottomWidth:3}});function B(){var e=(0,i.useState)(x.connected),t=(0,r.default)(e,2),l=(t[0],t[1]),f=(0,i.useState)(!0),p=(0,r.default)(f,2),g=p[0],y=p[1],h=(0,i.useState)(""),b=(0,r.default)(h,2),m=b[0],j=b[1],S=(0,i.useState)([]),A=(0,r.default)(S,2),O=A[0],w=A[1],P=(0,u.useFonts)({"Special-Elite":n(5767),Quicksand:n(3854)});(0,r.default)(P,1)[0];(0,i.useEffect)((function(){function e(){l(!0)}function t(){l(!1)}return x.on("connect",e),x.on("disconnect",t),x.on("scream",(function(e){console.log(e.data),j(e.data)})),x.on("gaze",(function(e){console.log(e),j(e)})),x.on("screamAudio",(function(e){console.log(e.data),j(e.data)})),x.on("gazeAudio",(function(e){console.log(e),w((function(t){return[].concat((0,o.default)(t),[e])}))})),function(){x.off("connect",e),x.off("disconnect",t)}}),[]);return(0,v.jsxs)(s.default,{style:R.outerContainer,children:[(0,v.jsx)(c.WithSkiaWeb,{getComponent:function(){return Promise.all([n.e(47),n.e(723)]).then(n.bind(n,4723))}}),(0,v.jsx)(s.default,{style:R.switchContainer,children:(0,v.jsx)(d.default,{onValueChange:function(){g||w([]),y(!g)},value:g,trackColor:{false:"#2F3237",true:"#2F3237"},thumbColor:"#5B639A",ios_backgroundColor:"#2F3237",activeThumbColor:"#5B639A"})}),g?(0,v.jsx)(C,{scream_response:m}):(0,v.jsx)(T,{gaze_response:O}),(0,v.jsx)(a.default,{style:"auto"})]})}var R=l.default.create({outerContainer:{flex:1,justifyContent:"center"},switchContainer:{flex:1/3,alignItems:"center",justifyContent:"flex-end",padding:"2%"},switchText:{color:"#fff",fontSize:24}})},3854:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Quicksand-VariableFont_wght.cf52df73d8529b4815ed.ttf"},5767:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/SpecialElite-Regular.9d8e771c3df553f9bc53.ttf"},2441:()=>{},1327:()=>{}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,(()=>{var e=[];n.O=(t,o,r,i)=>{if(!o){var a=1/0;for(u=0;u<e.length;u++){for(var[o,r,i]=e[u],l=!0,s=0;s<o.length;s++)(!1&i||a>=i)&&Object.keys(n.O).every((e=>n.O[e](o[s])))?o.splice(s--,1):(l=!1,i<a&&(a=i));if(l){e.splice(u--,1);var d=r();void 0!==d&&(t=d)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[o,r,i]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(o,r){if(1&r&&(o=this(o)),8&r)return o;if("object"===typeof o&&o){if(4&r&&o.__esModule)return o;if(16&r&&"function"===typeof o.then)return o}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var l=2&r&&o;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>a[e]=()=>o[e]));return a.default=()=>o,n.d(i,a),i}})(),n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,o)=>(n.f[o](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{47:"2d2932aa",723:"1fe9d336"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="web:";n.l=(o,r,i,a)=>{if(e[o])e[o].push(r);else{var l,s;if(void 0!==i)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var c=d[u];if(c.getAttribute("src")==o||c.getAttribute("data-webpack")==t+i){l=c;break}}l||(s=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+i),l.src=o),e[o]=[r];var f=(t,n)=>{l.onerror=l.onload=null,clearTimeout(p);var r=e[o];if(delete e[o],l.parentNode&&l.parentNode.removeChild(l),r&&r.forEach((e=>e(n))),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=f.bind(null,l.onerror),l.onload=f.bind(null,l.onload),s&&document.head.appendChild(l)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={179:0};n.f.j=(t,o)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var i=new Promise(((n,o)=>r=e[t]=[n,o]));o.push(r[2]=i);var a=n.p+n.u(t),l=new Error;n.l(a,(o=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;l.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",l.name="ChunkLoadError",l.type=i,l.request=a,r[1](l)}}),"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,o)=>{var r,i,[a,l,s]=o,d=0;if(a.some((t=>0!==e[t]))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(s)var u=s(n)}for(t&&t(o);d<a.length;d++)i=a[d],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},o=self.webpackChunkweb=self.webpackChunkweb||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=n.O(void 0,[889],(()=>n(9386)));o=n.O(o)})();
//# sourceMappingURL=main.2374271a.js.map